# 数据库连接池

[谈谈数据库连接池的原理](https://www.cnblogs.com/zhuleixiao/p/8974982.html)

- 打开多个命令窗口，执行`mysql -u root -p`，每个窗口就是一个与数据库的连接；
- 或者在Mysql Workbench中打开多个tab，每个tab就是一个与数据库的连接；
- java代码中使用JDBC连接MySQL数据库`Connection conn = DriverManager.getConnection(DB_URL,USER,PASS);`

客户端与数据库服务器之间的通信需要建立连接，如上，连接的建立和释放需要时间和空间成本，对于大型应用，这种负面影响可能更加明显。

其实我们查询完数据库后，如果不关闭连接，而是暂时存放起来，当别人使用时，把这个连接给他们使用。就避免了一次建立数据库连接和断开的操作时间消耗。

由上面的分析可以看出，问题的根源就在于对数据库连接资源的低效管理。我们知道，对于共享资源，有一个很著名的设计模式：资源池（resource pool）。该模式正是为了解决资源的频繁分配﹑释放所造成的问题。为解决上述问题，可以采用数据库连接池技术。数据库连接池的基本思想就是为数据库连接建立一个“缓冲池”。预先在缓冲池中放入一定数量的连接，当需要建立数据库连接时，只需从“缓冲池”中取出一个，使用完毕之后再放回去。我们可以通过设定连接池最大连接数来防止系统无尽的与数据库连接。更为重要的是我们可以通过连接池的管理机制监视数据库的连接的数量﹑使用情况，为系统开发﹑测试及性能调整提供依据。
